<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- Axios -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js" integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ==" crossorigin="anonymous"></script>
    <!-- Vue js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <title>Boolflix</title>
  </head>
  <body>
    <div id="root">

      <header>
        <div class="wrapper_80">
          <div class="header_content">
            <div class="nav_bar">
              <img src="img/logo.png" alt="logo-netflix">
              <ul>
                <li><a href="">Home</a></li>
                <li><a href="">Pi√π votati</a></li>
                <li><a href="">Film</a></li>
                <li><a href="">Popolari</a></li>
                <li><a href="">La mia lista</a></li>
              </ul>
            </div>
            <div class="cont_input">
              <input type="text" name="" value="" placeholder="Cerca" v-model="text" @keyup.enter="searchFilmsSeries()">
              <button type="button" name="button" @click="searchFilmsSeries()">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </div>
      </header>

      <main>
        <!-- <div class="wrapper_80"> -->

          <div class="search_nav">
            <h2 for="">Cerca per genere</h2>
            <select name="" v-model="valueGenre">
              <option value="">All Genres</option>
              <option :value="genre" v-for="genre in genres">
                  {{ genre.name }}
              </option>
            </select>
          </div>

          <div class="search_content">
            <template v-if="result_search == 0">
              <div class="search_failed" >
                <h3>Spiacenti. Nessun risultato per la tua ricerca di "{{text}}"</h3>
                <p>Suggerimenti:</p>
                <ul>
                  <li>Prova con parole chiave diverse</li>
                  <li>Cerchi un film o un programma TV?</li>
                  <li>Prova a usare il titolo di un film o programma tv</li>
              </ul>
              </div>
            </template>

            <template v-else-if="result_search > 0">
              <h1 v-if="films.length != 0">film</h1>
              <div class="card" v-for="(film, index) in films">
                    <img
                    :src="(film.poster_path == null) ? alternative_path : path + film.poster_path"
                    alt="cover">
                    <div class="info">
                      <h4>Titolo: <span>{{film.title}}</span></h4>
                      <h4 v-if="(film.original_title != film.title)">
                        Titolo originale:
                        <span>{{film.original_title}}</span>
                      </h4>

                      <div class="flag">
                        <h4>Lingua:
                          <img v-if="flags(film.original_language)" :src="flags(film.original_language)" alt="flags">
                          <span v-else>{{film.original_language}}</span>
                        </h4>
                      </div>

                      <h4>Voto:
                        <span>
                          <i :class="(film.vote_average >= 1) ? 'fas fa-star': 'far fa-star'"></i>
                          <i :class="(film.vote_average >= 2) ? 'fas fa-star': 'far fa-star'"></i>
                          <i :class="(film.vote_average >= 3) ? 'fas fa-star': 'far fa-star'"></i>
                          <i :class="(film.vote_average >= 4) ? 'fas fa-star': 'far fa-star'"></i>
                          <i :class="(film.vote_average > 4) ? 'fas fa-star': 'far fa-star'"></i>
                        </span>
                      </h4>

                      <div class="overview">
                        <h4>Overview:
                          <span>{{(film.overview == '') ? alternative_overview : film.overview}}</span>
                        </h4>
                      </div>
                    </div>
                  </div>
              <!-- Fine sezione film -->
              <!-- Inizio sezione serie tv -->
              <h1 v-if="seriesTv.length != 0">serie tv</h1>
              <div class="card" v-for="(serie, index) in seriesTv" >
                <img
                  :src="(serie.poster_path == null) ? alternative_path : path + serie.poster_path"
                  alt="cover">
                <div class="info">
                  <h4>Titolo: <span>{{serie.name}}</span></h4>
                  <h4 v-if="(serie.original_name != serie.name)">
                    Titolo originale:
                    <span>{{serie.original_name}}</span>
                  </h4>

                  <div class="flag">
                    <h4>Lingua:
                      <img v-if="(serie.original_language == 'it')" src="img/it-01.webp" alt="">
                      <img v-else-if="(serie.original_language == 'en')" src="img/en-01.png" alt="">
                      <img v-else-if="(serie.original_language == 'es')" src="img/es-01.webp" alt="">
                      <span v-else>{{serie.original_language}}</span>
                    </h4>
                  </div>

                  <h4>Voto:
                    <span>
                      <i :class="(serie.vote_average >= 1) ? 'fas fa-star': 'far fa-star'"></i>
                      <i :class="(serie.vote_average >= 2) ? 'fas fa-star': 'far fa-star'"></i>
                      <i :class="(serie.vote_average >= 3) ? 'fas fa-star': 'far fa-star'"></i>
                      <i :class="(serie.vote_average >= 4) ? 'fas fa-star': 'far fa-star'"></i>
                      <i :class="(serie.vote_average > 4) ? 'fas fa-star': 'far fa-star'"></i>
                    </span>
                  </h4>

                  <div class="overview">
                    <h4>Overview:
                      <span>{{(serie.overview == '') ? alternative_overview : serie.overview}}</span>
                    </h4>
                  </div>
                </div>
              </div>
            </template>
          </div>
        <!-- </div> -->
      </main>

    </div>
    <!-- Chiusura #root -->

  <script src="js/main.js" charset="utf-8"></script>
  </body>
</html>
